define("Parallax",["Scene","create"],function(t){var i;return i=function(t,i,h,s,a,p){this.x=t||0,this.y=i||0,this.offset=s||1.2,this.easing=a||3,this.targetX=0,this.deltaX=0,this.loop=p||!1,this.child=h,isImg=!0;try{isImg="img"===h.nodeName.toLowerCase()}catch(e){isImg=!1}this.graphics=new createjs.Container,isImg?isImg&&(this.bitmapA=new createjs.Bitmap(h),this.width=h.width,this.height=h.height,this.loop&&(this.bitmapA=new createjs.Bitmap(h),this.bitmapB=new createjs.Bitmap(h))):(this.bitmapA=h.graphics,this.width=h.graphics.width,this.height=h.graphics.height,this.loop&&(this.bitmapA=h.graphics,this.bitmapB=h.graphics.clone(!0))),this.loop?(this.bitmapA.x=this.x,this.bitmapB.x=this.x-this.width,this.graphics.addChild(this.bitmapA,this.bitmapB)):this.graphics.addChild(this.bitmapA),this.graphics.x=this.x,this.graphics.y=this.y},i.prototype={tick:function(){var i=t.viewport.x();this.targetX=i*this.offset,this.deltaX=this.targetX-this.x,this.x=this.targetX,this.loop?(this.bitmapA.x+=this.deltaX,this.bitmapB.x+=this.deltaX,this.bitmapA.x<0&&(this.bitmapB.x=this.bitmapA.x+this.width),this.bitmapB.x<0&&(this.bitmapA.x=this.bitmapB.x+this.width),this.bitmapB.x>0&&(this.bitmapA.x=this.bitmapB.x-this.width),this.bitmapA.x>0&&(this.bitmapB.x=this.bitmapA.x-this.width)):this.bitmapA.x=this.targetX;{var i=t.viewport.x();t.viewport.width()}}},i});