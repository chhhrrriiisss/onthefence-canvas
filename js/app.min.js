define("App",["jquery","Preloader","Scene","Play","create"],function(e,t,a,s){var i;return i={initialize:function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent);var e=this;this.percent=document.getElementById("loadingPercent"),this.wrapper=document.getElementById("canvasWrapper"),this.canvas=document.getElementById("mainCanvas"),this.stage=new createjs.Stage(this.canvas),this.stage.autoClear=!0,this.stage.canvas.width=1360,this.stage.canvas.height=720,this.properties={canvas:this.canvas,stage:this.stage,"viewport-x":0,"viewport-y":0,"target-x":0,"target-y":0,"left-boundary":-2e3,"right-boundary":2e4},a.properties(this.properties),createjs.Touch.enable(this.stage),window.addEventListener("resize",this.setSize,!1),t.enter(this.canvas,this.stage),t.loader.on("progress",function(t){var a=Math.round(100*t.loaded)+"%";e.percent.innerHTML=a}),t.loader.on("complete",function(){e.percent.className+=" hide",e.assets=t.assets,e.wrapper.className+=" show",e.setSize(),e.gotoPlay()})},gotoPlay:function(){s.enter(this.canvas,this.stage,this.assets,this.viewport)},setSize:function(){var e=a.get("stage"),t=e.canvas.width=this.wrapper.offsetWidth,s=e.canvas.height=this.wrapper.offsetHeight;console.log("resizing: "+t+" "+s),e.clear(),e.update()}}});