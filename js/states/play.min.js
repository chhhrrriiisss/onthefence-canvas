define("Play",["Clouds","Hills","Parallax","Hammer","Scene","create"],function(a,e,s,t,i){var r;return r={enter:function(e,t,r,h){var l=this;this.canvas=e,this.stage=t,this.assets=r,this.viewport=h,this.gameOver=!1,createjs.Ticker.on("tick",this.tick,this),createjs.Ticker.setFPS(60),this.parallaxLayers=[];var n=this.assets.hills_far,c=this.assets.hills_med,o=(this.assets.hay,i.get("stage"));l.parallaxLayers.hay=new s(0,600,this.assets.hay,1,10),l.parallaxLayers.hill_med=new s(0,parseInt(o.canvas.height-c.height),c,1,10,!0),l.parallaxLayers.hill_far=new s(-2e3,parseInt(o.canvas.height-n.height)-25,n,.5,10,!0),this.cloudLayer=new a(this.assets.clouds),l.parallaxLayers.clouds=new s(0,0,this.cloudLayer,.5,10),t.addChild(this.parallaxLayers.clouds.graphics,this.parallaxLayers.hill_far.graphics,this.parallaxLayers.hill_med.graphics,this.parallaxLayers.hay.graphics),this.addHooks()},addHooks:function(){t(document).on("swipeleft",function(){i.viewport.nudge(-1e3)}),t(document).on("swiperight",function(){i.viewport.nudge(1e3)}),$(document).on("keydown",function(a){switch(a.which||a.keyCode){case 39:i.viewport.nudge(-10);break;case 37:i.viewport.nudge(10)}})},exit:function(){console.log("Game ended")},tick:function(a){i.update(a),i.render(),this.cloudLayer.tick();for(var e in this.parallaxLayers)this.parallaxLayers[e].tick();this.stage.update(a)}}});