define("Play",["Clouds","Hills","Parallax","Hammer","Scene","create"],function(e,a,s,t,i){var r;return r={enter:function(a,t,r,h){var l=this;this.canvas=a,this.stage=t,this.assets=r,this.viewport=h,this.gameOver=!1,createjs.Ticker.on("tick",this.tick,this),createjs.Ticker.setFPS(60),this.parallaxLayers=[];var n=this.assets.hills_far,c=this.assets.hills_med,o=(this.assets.hay,i.get("stage").canvas);l.parallaxLayers.hay=new s(0,600,this.assets.hay,1,10,!0),l.parallaxLayers.hill_med=new s(0,parseInt(o.height-c.height),c,1,10,!0),l.parallaxLayers.hill_far=new s(-2e3,parseInt(o.height-n.height)-25,n,.5,10,!0),this.cloudLayer=new e(this.assets.clouds),t.addChild(this.cloudLayer.graphics,this.parallaxLayers.hill_far.graphics,this.parallaxLayers.hill_med.graphics,this.parallaxLayers.hay.graphics),this.addHooks()},addHooks:function(){t(document).on("swipeleft",function(){i.viewport.nudge(-1e3)}),t(document).on("swiperight",function(){i.viewport.nudge(1e3)}),$(document).on("keydown",function(e){switch(e.which||e.keyCode){case 39:i.viewport.nudge(-10);break;case 37:i.viewport.nudge(10)}})},exit:function(){console.log("Game ended")},tick:function(e){i.update(),i.render(),this.cloudLayer.update(),this.cloudLayer.render();for(var a in this.parallaxLayers)this.parallaxLayers[a].update(),this.parallaxLayers[a].render();this.stage.update(e)}}});